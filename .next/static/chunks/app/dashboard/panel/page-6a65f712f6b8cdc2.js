(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{90998:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},92457:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9883:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82549:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},72294:function(e,a,t){Promise.resolve().then(t.bind(t,49568)),Promise.resolve().then(t.bind(t,42844))},49568:function(e,a,t){"use strict";t.r(a),t.d(a,{DepartmentPanel:function(){return R}});var s=t(57437),r=t(2265),l=t(10732),i=t(9883),n=t(66654),o=t(85790),d=t(5925);function c(e){let{fields:a,onSubmit:t,onCancel:l,initialData:i,isLoading:n}=e,[o,d]=(0,r.useState)({name:"",value:"",target:"",unit:"",description:""});(0,r.useEffect)(()=>{if(i){var e,a;d({name:i.name||"",value:(null===(e=i.value)||void 0===e?void 0:e.toString())||"",target:(null===(a=i.target)||void 0===a?void 0:a.toString())||"",unit:i.unit||"",description:i.description||""})}},[i]);let c=e=>{d({...o,name:e.label,unit:e.unit})};return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...o,value:parseFloat(o.value),target:parseFloat(o.target)})},className:"space-y-4",children:[!i&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um campo padr\xe3o (opcional)"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:a.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>c(e),className:"text-left p-2 text-sm bg-gray-50 hover:bg-gray-100 rounded border transition-colors",children:[e.label," (",e.unit,")"]},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Indicador *"}),(0,s.jsx)("input",{type:"text",id:"name",required:!0,value:o.name,onChange:e=>d({...o,name:e.target.value}),className:"input-field",placeholder:"Ex: Vendas do m\xeas"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Atual *"}),(0,s.jsx)("input",{type:"number",id:"value",required:!0,step:"0.01",value:o.value,onChange:e=>d({...o,value:e.target.value}),className:"input-field",placeholder:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"target",className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta *"}),(0,s.jsx)("input",{type:"number",id:"target",required:!0,step:"0.01",value:o.target,onChange:e=>d({...o,target:e.target.value}),className:"input-field",placeholder:"0"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),(0,s.jsx)("input",{type:"text",id:"unit",value:o.unit,onChange:e=>d({...o,unit:e.target.value}),className:"input-field",placeholder:"Ex: R$, %, unidades"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,s.jsx)("textarea",{id:"description",rows:3,value:o.description,onChange:e=>d({...o,description:e.target.value}),className:"input-field",placeholder:"Descri\xe7\xe3o opcional do indicador"})]}),o.value&&o.target&&(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-medium",children:o.name}),(0,s.jsxs)("span",{className:"text-sm",children:[o.value," / ",o.target," ",o.unit]})]}),(0,s.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(parseFloat(o.value)>=parseFloat(o.target)?"bg-green-500":parseFloat(o.value)>=.8*parseFloat(o.target)?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(parseFloat(o.value)/parseFloat(o.target)*100,100),"%")}})})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:l,className:"btn-secondary",disabled:n,children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"btn-primary disabled:opacity-50",disabled:n,children:n?"Salvando...":i?"Atualizar":"Criar"})]})]})}var m=t(55303),u=t(82749),x=t(85754),p=t(1657);let h=r.forwardRef((e,a)=>{let{className:t,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,p.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})});h.displayName="Input";var g=t(9381),v=r.forwardRef((e,a)=>(0,s.jsx)(g.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));v.displayName="Label";let j=(0,t(96061).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(v,{ref:a,className:(0,p.cn)(j(),t),...r})});f.displayName=v.displayName;var b=t(27815),y=t(82549);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,t(62898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function C(e){let{onSubmit:a,onCancel:t,initialData:l,isLoading:i}=e,[n,o]=(0,r.useState)({faturamentoDia:(null==l?void 0:l.faturamentoDia)||0,faturamentoMesAcumulado:(null==l?void 0:l.faturamentoMesAcumulado)||0,metaFaturamentoDia:(null==l?void 0:l.metaFaturamentoDia)||0,metaFaturamentoMes:(null==l?void 0:l.metaFaturamentoMes)||0,positivacaoDia:(null==l?void 0:l.positivacaoDia)||0,positivacaoMesAcumulado:(null==l?void 0:l.positivacaoMesAcumulado)||0,metaPositivacaoDia:(null==l?void 0:l.metaPositivacaoDia)||0,metaPositivacaoMes:(null==l?void 0:l.metaPositivacaoMes)||0}),d=(e,a)=>{o(t=>({...t,[e]:parseFloat(a)||0}))},c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return(0,s.jsxs)(b.Zb,{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsx)(b.Ol,{children:(0,s.jsxs)(b.ll,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Formul\xe1rio - Setor Comercial"}),(0,s.jsx)(x.z,{variant:"ghost",size:"sm",onClick:t,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(b.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:"Faturamento"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"faturamentoDia",children:"Faturamento do Dia (R$)"}),(0,s.jsx)(h,{id:"faturamentoDia",type:"number",step:"0.01",value:n.faturamentoDia,onChange:e=>d("faturamentoDia",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"faturamentoMesAcumulado",children:"Faturamento M\xeas Acumulado (R$)"}),(0,s.jsx)(h,{id:"faturamentoMesAcumulado",type:"number",step:"0.01",value:n.faturamentoMesAcumulado,onChange:e=>d("faturamentoMesAcumulado",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaFaturamentoDia",children:"Meta Faturamento Dia (R$)"}),(0,s.jsx)(h,{id:"metaFaturamentoDia",type:"number",step:"0.01",value:n.metaFaturamentoDia,onChange:e=>d("metaFaturamentoDia",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaFaturamentoMes",children:"Meta Faturamento M\xeas (R$)"}),(0,s.jsx)(h,{id:"metaFaturamentoMes",type:"number",step:"0.01",value:n.metaFaturamentoMes,onChange:e=>d("metaFaturamentoMes",e.target.value),placeholder:"0,00"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-600",children:"Positiva\xe7\xe3o"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"positivacaoDia",children:"Positiva\xe7\xe3o do Dia"}),(0,s.jsx)(h,{id:"positivacaoDia",type:"number",value:n.positivacaoDia,onChange:e=>d("positivacaoDia",e.target.value),placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"positivacaoMesAcumulado",children:"Positiva\xe7\xe3o M\xeas Acumulado"}),(0,s.jsx)(h,{id:"positivacaoMesAcumulado",type:"number",value:n.positivacaoMesAcumulado,onChange:e=>d("positivacaoMesAcumulado",e.target.value),placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaPositivacaoDia",children:"Meta Positiva\xe7\xe3o Dia"}),(0,s.jsx)(h,{id:"metaPositivacaoDia",type:"number",value:n.metaPositivacaoDia,onChange:e=>d("metaPositivacaoDia",e.target.value),placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaPositivacaoMes",children:"Meta Positiva\xe7\xe3o M\xeas"}),(0,s.jsx)(h,{id:"metaPositivacaoMes",type:"number",value:n.metaPositivacaoMes,onChange:e=>d("metaPositivacaoMes",e.target.value),placeholder:"0"})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Preview dos Indicadores:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Faturamento Dia:"}),(0,s.jsx)("p",{children:c(n.faturamentoDia)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Meta Dia:"}),(0,s.jsx)("p",{children:c(n.metaFaturamentoDia)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Positiva\xe7\xe3o Dia:"}),(0,s.jsx)("p",{children:n.positivacaoDia})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Meta Positiva\xe7\xe3o:"}),(0,s.jsx)("p",{children:n.metaPositivacaoDia})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),(0,s.jsxs)(x.z,{type:"submit",disabled:i,children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-2"}),i?"Salvando...":"Salvar Dados"]})]})]})})]})}function w(e){let{onSubmit:a,onCancel:t,initialData:l,isLoading:i}=e,[n,o]=(0,r.useState)({otifMes:(null==l?void 0:l.otifMes)||0,metaOtif:(null==l?void 0:l.metaOtif)||95,taxaDevolucaoMes:(null==l?void 0:l.taxaDevolucaoMes)||0,metaTaxaDevolucao:(null==l?void 0:l.metaTaxaDevolucao)||5,custoLogisticoMes:(null==l?void 0:l.custoLogisticoMes)||0,metaCustoLogistico:(null==l?void 0:l.metaCustoLogistico)||3.5}),d=(e,a)=>{o(t=>({...t,[e]:parseFloat(a)||0}))},c=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e/a*100;return t?s<=100?"text-green-600":s<=120?"text-yellow-600":"text-red-600":s>=100?"text-green-600":s>=80?"text-yellow-600":"text-red-600"};return(0,s.jsxs)(b.Zb,{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsx)(b.Ol,{children:(0,s.jsxs)(b.ll,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Formul\xe1rio - Setor Log\xedstica"}),(0,s.jsx)(x.z,{variant:"ghost",size:"sm",onClick:t,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(b.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:"OTIF (On Time In Full)"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"otifMes",children:"OTIF M\xeas % (D-2)"}),(0,s.jsx)(h,{id:"otifMes",type:"number",step:"0.01",min:"0",max:"100",value:n.otifMes,onChange:e=>d("otifMes",e.target.value),placeholder:"0,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Dados de 2 dias atr\xe1s"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaOtif",children:"Meta OTIF (%)"}),(0,s.jsx)(h,{id:"metaOtif",type:"number",step:"0.01",min:"0",max:"100",value:n.metaOtif,onChange:e=>d("metaOtif",e.target.value),placeholder:"95,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Meta padr\xe3o: 95%"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-orange-600",children:"Taxa de Devolu\xe7\xe3o"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"taxaDevolucaoMes",children:"Taxa Devolu\xe7\xe3o M\xeas % (D-1)"}),(0,s.jsx)(h,{id:"taxaDevolucaoMes",type:"number",step:"0.01",min:"0",max:"100",value:n.taxaDevolucaoMes,onChange:e=>d("taxaDevolucaoMes",e.target.value),placeholder:"0,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Dados de 1 dia atr\xe1s"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaTaxaDevolucao",children:"Meta Taxa Devolu\xe7\xe3o (%)"}),(0,s.jsx)(h,{id:"metaTaxaDevolucao",type:"number",step:"0.01",min:"0",max:"100",value:n.metaTaxaDevolucao,onChange:e=>d("metaTaxaDevolucao",e.target.value),placeholder:"5,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Meta padr\xe3o: 5%"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-purple-600",children:"Custo Log\xedstico"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"custoLogisticoMes",children:"Custo Log\xedstico M\xeas % (D-2)"}),(0,s.jsx)(h,{id:"custoLogisticoMes",type:"number",step:"0.01",min:"0",max:"100",value:n.custoLogisticoMes,onChange:e=>d("custoLogisticoMes",e.target.value),placeholder:"0,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Dados de 2 dias atr\xe1s"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaCustoLogistico",children:"Meta Custo Log\xedstico (%)"}),(0,s.jsx)(h,{id:"metaCustoLogistico",type:"number",step:"0.01",min:"0",max:"100",value:n.metaCustoLogistico,onChange:e=>d("metaCustoLogistico",e.target.value),placeholder:"3,50"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Meta padr\xe3o: 3,5%"})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold mb-4",children:"Preview dos Indicadores:"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-blue-600",children:"OTIF"}),(0,s.jsxs)("p",{className:"text-2xl font-bold ".concat(c(n.otifMes,n.metaOtif)),children:[n.otifMes.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Meta: ",n.metaOtif,"%"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-orange-600",children:"Taxa Devolu\xe7\xe3o"}),(0,s.jsxs)("p",{className:"text-2xl font-bold ".concat(c(n.taxaDevolucaoMes,n.metaTaxaDevolucao,!0)),children:[n.taxaDevolucaoMes.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Meta: ≤",n.metaTaxaDevolucao,"%"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-purple-600",children:"Custo Log\xedstico"}),(0,s.jsxs)("p",{className:"text-2xl font-bold ".concat(c(n.custoLogisticoMes,n.metaCustoLogistico,!0)),children:[n.custoLogisticoMes.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Meta: ≤",n.metaCustoLogistico,"%"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Informa\xe7\xf5es Importantes:"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,s.jsx)("li",{children:"• OTIF e Custo Log\xedstico: dados de 2 dias atr\xe1s (D-2)"}),(0,s.jsx)("li",{children:"• Taxa de Devolu\xe7\xe3o: dados de 1 dia atr\xe1s (D-1)"}),(0,s.jsx)("li",{children:"• Metas s\xe3o preenchidas apenas uma vez por m\xeas"}),(0,s.jsx)("li",{children:"• Cores: Verde (meta atingida), Amarelo (pr\xf3ximo da meta), Vermelho (abaixo da meta)"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),(0,s.jsxs)(x.z,{type:"submit",disabled:i,children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-2"}),i?"Salvando...":"Salvar Dados"]})]})]})})]})}function M(e){let{onSubmit:a,onCancel:t,initialData:l,isLoading:i}=e,[n,o]=(0,r.useState)({rupturaMesValor:(null==l?void 0:l.rupturaMesValor)||0,rupturaMesPercentual:(null==l?void 0:l.rupturaMesPercentual)||0,metaRupturaValor:(null==l?void 0:l.metaRupturaValor)||0,metaRupturaPercentual:(null==l?void 0:l.metaRupturaPercentual)||0,coberturaEstoqueValor:(null==l?void 0:l.coberturaEstoqueValor)||0,metaCoberturaEstoque:(null==l?void 0:l.metaCoberturaEstoque)||45,mediaDiaria:(null==l?void 0:l.mediaDiaria)||0,mediaDias:(null==l?void 0:l.mediaDias)||0,curvaCValor:(null==l?void 0:l.curvaCValor)||0,curvaCPercentual:(null==l?void 0:l.curvaCPercentual)||0,metaCurvaCValor:(null==l?void 0:l.metaCurvaCValor)||0,metaCurvaCPercentual:(null==l?void 0:l.metaCurvaCPercentual)||0}),d=(e,a)=>{o(t=>({...t,[e]:parseFloat(a)||0}))},c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),m=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e/a*100;return t?s<=100?"text-green-600":s<=120?"text-yellow-600":"text-red-600":s>=100?"text-green-600":s>=80?"text-yellow-600":"text-red-600"};return(0,s.jsxs)(b.Zb,{className:"w-full max-w-6xl mx-auto",children:[(0,s.jsx)(b.Ol,{children:(0,s.jsxs)(b.ll,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Formul\xe1rio - Setor Compras"}),(0,s.jsx)(x.z,{variant:"ghost",size:"sm",onClick:t,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(b.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-600",children:"Ruptura M\xeas"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"rupturaMesValor",children:"Ruptura M\xeas (R$)"}),(0,s.jsx)(h,{id:"rupturaMesValor",type:"number",step:"0.01",value:n.rupturaMesValor,onChange:e=>d("rupturaMesValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"rupturaMesPercentual",children:"Ruptura M\xeas (%)"}),(0,s.jsx)(h,{id:"rupturaMesPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.rupturaMesPercentual,onChange:e=>d("rupturaMesPercentual",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaRupturaValor",children:"Meta Ruptura (R$)"}),(0,s.jsx)(h,{id:"metaRupturaValor",type:"number",step:"0.01",value:n.metaRupturaValor,onChange:e=>d("metaRupturaValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaRupturaPercentual",children:"Meta Ruptura (%)"}),(0,s.jsx)(h,{id:"metaRupturaPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.metaRupturaPercentual,onChange:e=>d("metaRupturaPercentual",e.target.value),placeholder:"0,00"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:"Cobertura de Estoque"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"coberturaEstoqueValor",children:"Cobertura Estoque (R$)"}),(0,s.jsx)(h,{id:"coberturaEstoqueValor",type:"number",step:"0.01",value:n.coberturaEstoqueValor,onChange:e=>d("coberturaEstoqueValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaCoberturaEstoque",children:"Meta Cobertura (dias)"}),(0,s.jsx)(h,{id:"metaCoberturaEstoque",type:"number",value:n.metaCoberturaEstoque,onChange:e=>d("metaCoberturaEstoque",e.target.value),placeholder:"45"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Meta padr\xe3o: 45 dias"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"mediaDiaria",children:"M\xe9dia Di\xe1ria"}),(0,s.jsx)(h,{id:"mediaDiaria",type:"number",step:"0.01",value:n.mediaDiaria,onChange:e=>d("mediaDiaria",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"mediaDias",children:"M\xe9dia Dias"}),(0,s.jsx)(h,{id:"mediaDias",type:"number",value:n.mediaDias,onChange:e=>d("mediaDias",e.target.value),placeholder:"0"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-600",children:"Curva C"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"curvaCValor",children:"Curva C (R$)"}),(0,s.jsx)(h,{id:"curvaCValor",type:"number",step:"0.01",value:n.curvaCValor,onChange:e=>d("curvaCValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"curvaCPercentual",children:"Curva C (%)"}),(0,s.jsx)(h,{id:"curvaCPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.curvaCPercentual,onChange:e=>d("curvaCPercentual",e.target.value),placeholder:"0,00"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaCurvaCValor",children:"Meta Curva C (R$)"}),(0,s.jsx)(h,{id:"metaCurvaCValor",type:"number",step:"0.01",value:n.metaCurvaCValor,onChange:e=>d("metaCurvaCValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaCurvaCPercentual",children:"Meta Curva C (%)"}),(0,s.jsx)(h,{id:"metaCurvaCPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.metaCurvaCPercentual,onChange:e=>d("metaCurvaCPercentual",e.target.value),placeholder:"0,00"})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold mb-4",children:"Preview dos Indicadores:"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-red-600",children:"Ruptura"}),(0,s.jsx)("p",{className:"text-lg font-bold ".concat(m(n.rupturaMesValor,n.metaRupturaValor,!0)),children:c(n.rupturaMesValor)}),(0,s.jsxs)("p",{className:"text-sm font-semibold ".concat(m(n.rupturaMesPercentual,n.metaRupturaPercentual,!0)),children:[n.rupturaMesPercentual.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Meta: ",c(n.metaRupturaValor)," (",n.metaRupturaPercentual,"%)"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-blue-600",children:"Cobertura"}),(0,s.jsx)("p",{className:"text-lg font-bold text-blue-600",children:c(n.coberturaEstoqueValor)}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[n.mediaDias," dias"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Meta: ",n.metaCoberturaEstoque," dias"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-green-600",children:"Curva C"}),(0,s.jsx)("p",{className:"text-lg font-bold ".concat(m(n.curvaCValor,n.metaCurvaCValor)),children:c(n.curvaCValor)}),(0,s.jsxs)("p",{className:"text-sm font-semibold ".concat(m(n.curvaCPercentual,n.metaCurvaCPercentual)),children:[n.curvaCPercentual.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Meta: ",c(n.metaCurvaCValor)," (",n.metaCurvaCPercentual,"%)"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-purple-600",children:"M\xe9dia Di\xe1ria"}),(0,s.jsx)("p",{className:"text-lg font-bold text-purple-600",children:c(n.mediaDiaria)}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Consumo di\xe1rio"})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Informa\xe7\xf5es Importantes:"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Ruptura: valores e percentuais de produtos em falta"}),(0,s.jsx)("li",{children:"• Cobertura de Estoque: valor em R$ e dias de cobertura"}),(0,s.jsx)("li",{children:"• Curva C: produtos de baixo giro - valores e percentuais"}),(0,s.jsx)("li",{children:"• Metas s\xe3o preenchidas apenas uma vez por m\xeas"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),(0,s.jsxs)(x.z,{type:"submit",disabled:i,children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-2"}),i?"Salvando...":"Salvar Dados"]})]})]})})]})}function D(e){let{onSubmit:a,onCancel:t,initialData:l,isLoading:i}=e,[n,o]=(0,r.useState)({inadimplencia45dValor:(null==l?void 0:l.inadimplencia45dValor)||0,inadimplencia45dPercentual:(null==l?void 0:l.inadimplencia45dPercentual)||0,metaInadimplenciaValor:(null==l?void 0:l.metaInadimplenciaValor)||0,metaInadimplenciaPercentual:(null==l?void 0:l.metaInadimplenciaPercentual)||0,limitesImplantadosValor:(null==l?void 0:l.limitesImplantadosValor)||0,limitesUtilizadoSemanal:(null==l?void 0:l.limitesUtilizadoSemanal)||0}),d=(e,a)=>{o(t=>({...t,[e]:parseFloat(a)||0}))},c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),m=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e/a*100;return t?s<=100?"text-green-600":s<=120?"text-yellow-600":"text-red-600":s>=100?"text-green-600":s>=80?"text-yellow-600":"text-red-600"},u=()=>0===n.limitesImplantadosValor?0:n.limitesUtilizadoSemanal/n.limitesImplantadosValor*100;return(0,s.jsxs)(b.Zb,{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsx)(b.Ol,{children:(0,s.jsxs)(b.ll,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Formul\xe1rio - Setor Financeiro"}),(0,s.jsx)(x.z,{variant:"ghost",size:"sm",onClick:t,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(b.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(n)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-600",children:"Inadimpl\xeancia 45 Dias"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"inadimplencia45dValor",children:"Inadimpl\xeancia 45d - Valor (R$)"}),(0,s.jsx)(h,{id:"inadimplencia45dValor",type:"number",step:"0.01",value:n.inadimplencia45dValor,onChange:e=>d("inadimplencia45dValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"inadimplencia45dPercentual",children:"Inadimpl\xeancia 45d - Percentual (%)"}),(0,s.jsx)(h,{id:"inadimplencia45dPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.inadimplencia45dPercentual,onChange:e=>d("inadimplencia45dPercentual",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaInadimplenciaValor",children:"Meta Inadimpl\xeancia - Valor (R$)"}),(0,s.jsx)(h,{id:"metaInadimplenciaValor",type:"number",step:"0.01",value:n.metaInadimplenciaValor,onChange:e=>d("metaInadimplenciaValor",e.target.value),placeholder:"0,00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"metaInadimplenciaPercentual",children:"Meta Inadimpl\xeancia - Percentual (%)"}),(0,s.jsx)(h,{id:"metaInadimplenciaPercentual",type:"number",step:"0.01",min:"0",max:"100",value:n.metaInadimplenciaPercentual,onChange:e=>d("metaInadimplenciaPercentual",e.target.value),placeholder:"0,00"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:"Limites de Cr\xe9dito"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"limitesImplantadosValor",children:"Limites Implantados M-1 (R$)"}),(0,s.jsx)(h,{id:"limitesImplantadosValor",type:"number",step:"0.01",value:n.limitesImplantadosValor,onChange:e=>d("limitesImplantadosValor",e.target.value),placeholder:"0,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Valor do m\xeas anterior (M-1)"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f,{htmlFor:"limitesUtilizadoSemanal",children:"Utilizado Semanal (R$)"}),(0,s.jsx)(h,{id:"limitesUtilizadoSemanal",type:"number",step:"0.01",value:n.limitesUtilizadoSemanal,onChange:e=>d("limitesUtilizadoSemanal",e.target.value),placeholder:"0,00"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Valor utilizado na semana atual"})]}),(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded border",children:[(0,s.jsx)(f,{className:"text-sm font-medium text-blue-800",children:"Utiliza\xe7\xe3o dos Limites"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[u().toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-sm text-blue-600",children:[c(n.limitesUtilizadoSemanal)," de ",c(n.limitesImplantadosValor)]})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold mb-4",children:"Preview dos Indicadores:"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-red-600",children:"Inadimpl\xeancia 45d"}),(0,s.jsx)("p",{className:"text-xl font-bold ".concat(m(n.inadimplencia45dValor,n.metaInadimplenciaValor,!0)),children:c(n.inadimplencia45dValor)}),(0,s.jsxs)("p",{className:"text-lg font-semibold ".concat(m(n.inadimplencia45dPercentual,n.metaInadimplenciaPercentual,!0)),children:[n.inadimplencia45dPercentual.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Meta: ",c(n.metaInadimplenciaValor)," (",n.metaInadimplenciaPercentual,"%)"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-blue-600",children:"Limites Implantados"}),(0,s.jsx)("p",{className:"text-xl font-bold text-blue-600",children:c(n.limitesImplantadosValor)}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Valor do m\xeas anterior"})]}),(0,s.jsxs)("div",{className:"p-3 bg-white rounded border",children:[(0,s.jsx)("h5",{className:"font-medium text-green-600",children:"Utiliza\xe7\xe3o Semanal"}),(0,s.jsx)("p",{className:"text-xl font-bold text-green-600",children:c(n.limitesUtilizadoSemanal)}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:[u().toFixed(1),"%"]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"dos limites implantados"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-semibold text-red-800 mb-2",children:"Status Inadimpl\xeancia:"}),(0,s.jsx)("div",{className:"text-sm text-red-700",children:n.inadimplencia45dValor<=n.metaInadimplenciaValor?(0,s.jsx)("p",{className:"text-green-700",children:"✅ Meta de inadimpl\xeancia atingida"}):(0,s.jsx)("p",{children:"⚠️ Inadimpl\xeancia acima da meta estabelecida"})})]}),(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Status Utiliza\xe7\xe3o de Limites:"}),(0,s.jsx)("div",{className:"text-sm text-blue-700",children:u()>=80?(0,s.jsx)("p",{children:"\uD83D\uDCC8 Alta utiliza\xe7\xe3o dos limites de cr\xe9dito"}):u()>=50?(0,s.jsx)("p",{children:"\uD83D\uDCCA Utiliza\xe7\xe3o moderada dos limites"}):(0,s.jsx)("p",{children:"\uD83D\uDCC9 Baixa utiliza\xe7\xe3o dos limites de cr\xe9dito"})})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,s.jsx)("h5",{className:"font-semibold text-blue-800 mb-2",children:"Informa\xe7\xf5es Importantes:"}),(0,s.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,s.jsx)("li",{children:"• Inadimpl\xeancia 45d: clientes com atraso superior a 45 dias"}),(0,s.jsx)("li",{children:"• Limites Implantados: valor total de limites de cr\xe9dito aprovados no m\xeas anterior"}),(0,s.jsx)("li",{children:"• Utilizado Semanal: valor efetivamente utilizado pelos clientes na semana"}),(0,s.jsx)("li",{children:"• Metas s\xe3o preenchidas apenas uma vez por m\xeas"}),(0,s.jsx)("li",{children:"• Cores: Verde (dentro da meta), Amarelo (pr\xf3ximo do limite), Vermelho (acima da meta)"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(x.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),(0,s.jsxs)(x.z,{type:"submit",disabled:i,children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-2"}),i?"Salvando...":"Salvar Dados"]})]})]})})]})}var I=t(92457);function P(e){var a;let{onDataSubmitted:t}=e,{data:l}=(0,u.useSession)(),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),m=(null==l?void 0:null===(a=l.user)||void 0===a?void 0:a.department)||"COMERCIAL",p=async e=>{c(!0);try{let a=await fetch("/api/sector-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({department:m,data:e,date:new Date().toISOString()})});if(a.ok){let e=await a.json();o(!1),null==t||t(),alert("Dados salvos com sucesso! ".concat(e.count," indicadores atualizados."))}else{let e=await a.json();console.error("Erro ao salvar dados:",e),alert("Erro ao salvar dados: "+e.message)}}catch(e){console.error("Erro ao salvar dados:",e),alert("Erro ao salvar dados. Tente novamente.")}finally{c(!1)}},h=()=>{o(!1)},g=()=>{switch(m){case"COMERCIAL":return"Comercial";case"LOGISTICA":return"Log\xedstica";case"COMPRAS":return"Compras";case"FINANCEIRO":return"Financeiro";default:return"Departamento"}};return n?(()=>{switch(m){case"COMERCIAL":return(0,s.jsx)(C,{onSubmit:p,onCancel:h,isLoading:d});case"LOGISTICA":return(0,s.jsx)(w,{onSubmit:p,onCancel:h,isLoading:d});case"COMPRAS":return(0,s.jsx)(M,{onSubmit:p,onCancel:h,isLoading:d});case"FINANCEIRO":return(0,s.jsx)(D,{onSubmit:p,onCancel:h,isLoading:d});default:return(0,s.jsx)(b.Zb,{children:(0,s.jsx)(b.aY,{className:"p-6",children:(0,s.jsx)("p",{className:"text-center text-gray-500",children:"Departamento n\xe3o reconhecido. Entre em contato com o administrador."})})})}})():(0,s.jsxs)(b.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsx)(b.Ol,{children:(0,s.jsxs)(b.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(I.Z,{className:"h-5 w-5"}),"Painel ",g()]})}),(0,s.jsx)(b.aY,{className:"space-y-6",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Bem-vindo ao Painel ",g()]}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:(()=>{switch(m){case"COMERCIAL":return"Preencha os dados de faturamento e positiva\xe7\xe3o do seu setor";case"LOGISTICA":return"Preencha os dados de OTIF, taxa de devolu\xe7\xe3o e custo log\xedstico";case"COMPRAS":return"Preencha os dados de ruptura, cobertura de estoque e curva C";case"FINANCEIRO":return"Preencha os dados de inadimpl\xeancia e limites de cr\xe9dito";default:return"Preencha os dados do seu departamento"}})()}),(0,s.jsxs)(x.z,{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-700",size:"lg",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Preencher Dados do Setor"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded border-l-4 border-green-400",children:[(0,s.jsx)("h4",{className:"font-semibold text-green-800",children:"Dados Atualizados"}),(0,s.jsx)("p",{className:"text-green-700",children:"Os dados preenchidos alimentar\xe3o automaticamente os indicadores do dashboard"})]}),(0,s.jsxs)("div",{className:"p-4 bg-yellow-50 rounded border-l-4 border-yellow-400",children:[(0,s.jsx)("h4",{className:"font-semibold text-yellow-800",children:"Metas Mensais"}),(0,s.jsx)("p",{className:"text-yellow-700",children:"As metas precisam ser definidas apenas uma vez por m\xeas"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("h4",{className:"font-semibold text-gray-800 mb-2",children:["Campos do Setor ",g(),":"]}),(0,s.jsxs)("div",{className:"text-left text-sm text-gray-600",children:["COMERCIAL"===m&&(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Faturamento: dia, m\xeas acumulado e metas"}),(0,s.jsx)("li",{children:"• Positiva\xe7\xe3o: dia, m\xeas acumulado e metas"})]}),"LOGISTICA"===m&&(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• OTIF m\xeas % (D-2) - Meta: 95%"}),(0,s.jsx)("li",{children:"• Taxa de devolu\xe7\xe3o m\xeas % (D-1) - Meta: 5%"}),(0,s.jsx)("li",{children:"• Custo log\xedstico m\xeas % (D-2) - Meta: 3,5%"})]}),"COMPRAS"===m&&(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Ruptura m\xeas: R$ e % com metas"}),(0,s.jsx)("li",{children:"• Cobertura de estoque: R$ - Meta: 45 dias"}),(0,s.jsx)("li",{children:"• Curva C: R$ e % com metas"})]}),"FINANCEIRO"===m&&(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Inadimpl\xeancia 45d: valor R$ e % com metas"}),(0,s.jsx)("li",{children:"• Limites implantados: valor M-1 R$"}),(0,s.jsx)("li",{children:"• Utilizado semanal"})]})]})]})]})})]})}let F={COMERCIAL:[{name:"vendas_mes",label:"Vendas do M\xeas",unit:"R$",type:"currency"},{name:"leads_gerados",label:"Leads Gerados",unit:"unidades",type:"number"},{name:"conversao_leads",label:"Taxa de Convers\xe3o",unit:"%",type:"percentage"},{name:"ticket_medio",label:"Ticket M\xe9dio",unit:"R$",type:"currency"},{name:"clientes_novos",label:"Clientes Novos",unit:"unidades",type:"number"}],LOGISTICA:[{name:"entregas_prazo",label:"Entregas no Prazo",unit:"%",type:"percentage"},{name:"custo_frete",label:"Custo de Frete",unit:"R$",type:"currency"},{name:"tempo_entrega",label:"Tempo M\xe9dio de Entrega",unit:"dias",type:"number"},{name:"avarias",label:"Taxa de Avarias",unit:"%",type:"percentage"},{name:"estoque_giro",label:"Giro de Estoque",unit:"vezes",type:"number"}],COMPRAS:[{name:"economia_negociacao",label:"Economia em Negocia\xe7\xe3o",unit:"R$",type:"currency"},{name:"prazo_pagamento",label:"Prazo M\xe9dio de Pagamento",unit:"dias",type:"number"},{name:"fornecedores_avaliados",label:"Fornecedores Avaliados",unit:"unidades",type:"number"},{name:"qualidade_produtos",label:"Qualidade dos Produtos",unit:"%",type:"percentage"},{name:"tempo_processo",label:"Tempo de Processo",unit:"dias",type:"number"}],FINANCEIRO:[{name:"fluxo_caixa",label:"Fluxo de Caixa",unit:"R$",type:"currency"},{name:"inadimplencia",label:"Taxa de Inadimpl\xeancia",unit:"%",type:"percentage"},{name:"margem_lucro",label:"Margem de Lucro",unit:"%",type:"percentage"},{name:"contas_receber",label:"Contas a Receber",unit:"R$",type:"currency"},{name:"despesas_operacionais",label:"Despesas Operacionais",unit:"R$",type:"currency"}],TI:[{name:"uptime_sistemas",label:"Uptime dos Sistemas",unit:"%",type:"percentage"},{name:"tickets_resolvidos",label:"Tickets Resolvidos",unit:"unidades",type:"number"},{name:"tempo_resposta",label:"Tempo M\xe9dio de Resposta",unit:"horas",type:"number"},{name:"backup_sucesso",label:"Taxa de Sucesso de Backup",unit:"%",type:"percentage"},{name:"projetos_entregues",label:"Projetos Entregues no Prazo",unit:"%",type:"percentage"}],DIRETORIA:[{name:"receita_total",label:"Receita Total",unit:"R$",type:"currency"},{name:"lucro_liquido",label:"Lucro L\xedquido",unit:"R$",type:"currency"},{name:"crescimento_mensal",label:"Crescimento Mensal",unit:"%",type:"percentage"},{name:"satisfacao_cliente",label:"Satisfa\xe7\xe3o do Cliente",unit:"%",type:"percentage"},{name:"eficiencia_operacional",label:"Efici\xeancia Operacional",unit:"%",type:"percentage"}]};function R(e){let{department:a,userId:t,indicators:u,goals:x}=e,[p,h]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[j,f]=(0,r.useState)(!1),b=F[a]||[],y=async e=>{f(!0);try{(await fetch("/api/indicators",{method:g?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,userId:t,department:a,id:null==g?void 0:g.id})})).ok?(d.default.success(g?"Indicador atualizado!":"Indicador criado!"),h(!1),v(null),window.location.reload()):d.default.error("Erro ao salvar indicador")}catch(e){d.default.error("Erro ao salvar indicador")}finally{f(!1)}},N=async e=>{if(confirm("Tem certeza que deseja excluir este indicador?"))try{(await fetch("/api/indicators/".concat(e),{method:"DELETE"})).ok?(d.default.success("Indicador exclu\xeddo!"),window.location.reload()):d.default.error("Erro ao excluir indicador")}catch(e){d.default.error("Erro ao excluir indicador")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(P,{onDataSubmitted:()=>{d.default.success("Dados do setor atualizados!"),window.location.reload()}}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary flex items-center space-x-2",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Novo Indicador"})]})}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[u.length," indicadores cadastrados"]})]}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:g?"Editar Indicador":"Novo Indicador"}),(0,s.jsx)(c,{fields:b,onSubmit:y,onCancel:()=>{h(!1),v(null)},initialData:g,isLoading:j})]})}),x.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5 text-primary-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Metas do Departamento"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["Atual: ",e.current.toLocaleString("pt-BR")]}),(0,s.jsxs)("span",{children:["Meta: ",e.target.toLocaleString("pt-BR")]})]}),(0,s.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.current/e.target*100,100),"%")}})})]})]},e.id))})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e,a)=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,s.jsx)(m.o,{indicator:e,onEdit:()=>{v(e),h(!0)},onDelete:()=>N(e.id)})},e.id))}),0===u.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum indicador cadastrado"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Comece adicionando indicadores para acompanhar o desempenho do seu departamento."}),(0,s.jsx)("button",{onClick:()=>h(!0),className:"btn-primary",children:"Criar Primeiro Indicador"})]})]})}},42844:function(e,a,t){"use strict";t.r(a),t.d(a,{GeneralDashboard:function(){return h}});var s=t(57437),r=t(2265),l=t(10732),i=t(41298),n=t(85790),o=t(90998),d=t(25750),c=t(74522),m=t(92457),u=t(55303);let x={COMERCIAL:"bg-blue-500",LOGISTICA:"bg-green-500",COMPRAS:"bg-purple-500",FINANCEIRO:"bg-yellow-500",TI:"bg-red-500",DIRETORIA:"bg-gray-500"},p={COMERCIAL:"Comercial",LOGISTICA:"Log\xedstica",COMPRAS:"Compras",FINANCEIRO:"Financeiro",TI:"TI",DIRETORIA:"Diretoria"};function h(e){let{userId:a}=e,[t,h]=(0,r.useState)(null),[g,v]=(0,r.useState)([]),[j,f]=(0,r.useState)("ALL"),[b,y]=(0,r.useState)(!0),[N,C]=(0,r.useState)("30");(0,r.useEffect)(()=>{w()},[N]);let w=async()=>{y(!0);try{let e=await fetch("/api/indicators/all?days=".concat(N)),a=await e.json(),t=await fetch("/api/goals/all"),s=await t.json();v(a);let r=M(a,s);h(r)}catch(e){console.error("Erro ao buscar dados consolidados:",e)}finally{y(!1)}},M=(e,a)=>{let t=Object.entries(e.reduce((e,a)=>(e[a.department]||(e[a.department]=[]),e[a.department].push(a),e),{})).map(e=>{let[a,t]=e,s=t.reduce((e,a)=>e+(a.target>0?a.value/a.target*100:0),0)/t.length;return{department:a,totalIndicators:t.length,averagePerformance:s,trend:s>80?"up":s>60?"stable":"down",topIndicators:t.slice(0,3)}}),s=e.filter(e=>e.name.includes("receita")||e.name.includes("vendas")||e.name.includes("faturamento")).reduce((e,a)=>e+a.value,0),r=e.filter(e=>e.name.includes("lucro")||e.name.includes("margem")).reduce((e,a)=>e+a.value,0),l=e.filter(e=>e.name.includes("eficiencia")||e.name.includes("produtividade")),i=l.length>0?l.reduce((e,a)=>e+a.value,0)/l.length:0,n=e.filter(e=>e.name.includes("satisfacao")||e.name.includes("cliente"));return{totalRevenue:s,totalProfit:r,overallEfficiency:i,customerSatisfaction:n.length>0?n.reduce((e,a)=>e+a.value,0)/n.length:0,departmentPerformance:t}},D="ALL"===j?g:g.filter(e=>e.department===j);return b?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Geral"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Vis\xe3o consolidada de todos os departamentos"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:N,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"7",children:"\xdaltimos 7 dias"}),(0,s.jsx)("option",{value:"30",children:"\xdaltimos 30 dias"}),(0,s.jsx)("option",{value:"90",children:"\xdaltimos 90 dias"})]}),(0,s.jsxs)("select",{value:j,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"ALL",children:"Todos os Departamentos"}),Object.entries(p).map(e=>{let[a,t]=e;return(0,s.jsx)("option",{value:a,children:t},a)})]})]})]}),t&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Receita Total"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalRevenue.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,s.jsx)(i.Z,{className:"w-6 h-6 text-blue-600"})})]})}),(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Lucro Total"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalProfit.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,s.jsx)(n.Z,{className:"w-6 h-6 text-green-600"})})]})}),(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Efici\xeancia Geral"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.overallEfficiency.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 text-purple-600"})})]})}),(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Satisfa\xe7\xe3o Cliente"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.customerSatisfaction.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full",children:(0,s.jsx)(d.Z,{className:"w-6 h-6 text-yellow-600"})})]})})]}),t&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance por Departamento"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.departmentPerformance.map((e,a)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(x[e.department])}),(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:p[e.department]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:["up"===e.trend&&(0,s.jsx)(n.Z,{className:"w-4 h-4 text-green-500"}),"down"===e.trend&&(0,s.jsx)(c.Z,{className:"w-4 h-4 text-red-500"}),"stable"===e.trend&&(0,s.jsx)(o.Z,{className:"w-4 h-4 text-yellow-500"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Performance:"}),(0,s.jsxs)("span",{className:"font-medium",children:[e.averagePerformance.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Indicadores:"}),(0,s.jsx)("span",{className:"font-medium",children:e.totalIndicators})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(e.averagePerformance>80?"bg-green-500":e.averagePerformance>60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(e.averagePerformance,100),"%")}})})]})]},e.department))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Indicadores ","ALL"===j?"Gerais":"- ".concat(p[j])]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[D.length," indicadores"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map((e,a)=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,s.jsx)(u.o,{indicator:e,showDepartment:"ALL"===j})},e.id))}),0===D.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum indicador encontrado"}),(0,s.jsx)("p",{className:"text-gray-500",children:"ALL"===j?"N\xe3o h\xe1 indicadores cadastrados no sistema.":"N\xe3o h\xe1 indicadores para o departamento ".concat(p[j],".")})]})]})]})}},55303:function(e,a,t){"use strict";t.d(a,{o:function(){return x}});var s=t(57437),r=t(10732),l=t(85790),i=t(66654),n=t(74522),o=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),c=(0,o.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var m=t(44602),u=t(78027);function x(e){let{indicator:a,onEdit:t,onDelete:o}=e,x=a.value/a.target*100,p=a.value>=a.target,h=a.value>=.8*a.target,g=()=>p?"success":h?"warning":"danger";return(0,s.jsxs)(r.E.div,{whileHover:{y:-2},className:"metric-card ".concat(g()),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a.name}),a.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:a.description}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Atualizado ",(0,m.Z)(new Date(a.updatedAt),{addSuffix:!0,locale:u.Z})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",children:(0,s.jsx)(d,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:o,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-red-600",children:(0,s.jsx)(c,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[p?(0,s.jsx)(l.Z,{className:"w-4 h-4 text-green-500"}):h?(0,s.jsx)(i.Z,{className:"w-4 h-4 text-yellow-500"}):(0,s.jsx)(n.Z,{className:"w-4 h-4 text-red-500"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:a.value.toLocaleString("pt-BR")}),a.unit&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:a.unit})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Meta"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-700",children:[a.target.toLocaleString("pt-BR"),a.unit&&(0,s.jsx)("span",{className:"text-sm ml-1",children:a.unit})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Progresso"}),(0,s.jsxs)("span",{className:"text-sm font-medium ".concat(p?"text-green-600":h?"text-yellow-600":"text-red-600"),children:[x.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill ".concat(g()),style:{width:"".concat(Math.min(x,100),"%")}})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:p?"Meta atingida!":h?"Pr\xf3ximo da meta":"Abaixo da meta"}),(0,s.jsxs)("span",{className:"font-medium ".concat(x>=100?"text-green-600":x>=80?"text-yellow-600":"text-red-600"),children:[x>=100?"+":"",(x-100).toFixed(1),"%"]})]})]})]})}},85754:function(e,a,t){"use strict";t.d(a,{z:function(){return d}});var s=t(57437),r=t(2265),l=t(67256),i=t(96061),n=t(1657);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:i,asChild:d=!1,...c}=e,m=d?l.g7:"button";return(0,s.jsx)(m,{className:(0,n.cn)(o({variant:r,size:i,className:t})),ref:a,...c})});d.displayName="Button"},27815:function(e,a,t){"use strict";t.d(a,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var s=t(57437),r=t(2265),l=t(1657);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},1657:function(e,a,t){"use strict";t.d(a,{cn:function(){return l}});var s=t(57042),r=t(74769);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}},5925:function(e,a,t){"use strict";let s,r;t.r(a),t.d(a,{CheckmarkIcon:function(){return W},ErrorIcon:function(){return U},LoaderIcon:function(){return H},ToastBar:function(){return en},ToastIcon:function(){return ea},Toaster:function(){return em},default:function(){return eu},resolveValue:function(){return w},toast:function(){return k},useToaster:function(){return Z},useToasterStore:function(){return E}});var l,i=t(2265);let n={data:""},o=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||n,d=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,m=/\n+/g,u=(e,a)=>{let t="",s="",r="";for(let l in e){let i=e[l];"@"==l[0]?"i"==l[1]?t=l+" "+i+";":s+="f"==l[1]?u(i,l):l+"{"+u(i,"k"==l[1]?"":a)+"}":"object"==typeof i?s+=u(i,a?a.replace(/([^,])+/g,e=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,e):e?e+" "+a:a)):l):null!=i&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=u.p?u.p(l,i):l+":"+i+";")}return t+(a&&r?a+"{"+r+"}":r)+s},x={},p=e=>{if("object"==typeof e){let a="";for(let t in e)a+=t+p(e[t]);return a}return e},h=(e,a,t,s,r)=>{var l;let i=p(e),n=x[i]||(x[i]=(e=>{let a=0,t=11;for(;a<e.length;)t=101*t+e.charCodeAt(a++)>>>0;return"go"+t})(i));if(!x[n]){let a=i!==e?e:(e=>{let a,t,s=[{}];for(;a=d.exec(e.replace(c,""));)a[4]?s.shift():a[3]?(t=a[3].replace(m," ").trim(),s.unshift(s[0][t]=s[0][t]||{})):s[0][a[1]]=a[2].replace(m," ").trim();return s[0]})(e);x[n]=u(r?{["@keyframes "+n]:a}:a,t?"":"."+n)}let o=t&&x.g?x.g:null;return t&&(x.g=x[n]),l=x[n],o?a.data=a.data.replace(o,l):-1===a.data.indexOf(l)&&(a.data=s?l+a.data:a.data+l),n},g=(e,a,t)=>e.reduce((e,s,r)=>{let l=a[r];if(l&&l.call){let e=l(t),a=e&&e.props&&e.props.className||/^go/.test(e)&&e;l=a?"."+a:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+s+(null==l?"":l)},"");function v(e){let a=this||{},t=e.call?e(a.p):e;return h(t.unshift?t.raw?g(t,[].slice.call(arguments,1),a.p):t.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):t,o(a.target),a.g,a.o,a.k)}v.bind({g:1});let j,f,b,y=v.bind({k:1});function N(e,a){let t=this||{};return function(){let s=arguments;function r(l,i){let n=Object.assign({},l),o=n.className||r.className;t.p=Object.assign({theme:f&&f()},n),t.o=/ *go\d+/.test(o),n.className=v.apply(t,s)+(o?" "+o:""),a&&(n.ref=i);let d=e;return e[0]&&(d=n.as||e,delete n.as),b&&d[0]&&b(n),j(d,n)}return a?a(r):r}}var C=e=>"function"==typeof e,w=(e,a)=>C(e)?e(a):e,M=(s=0,()=>(++s).toString()),D=()=>{if(void 0===r&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r},I=(e,a)=>{switch(a.type){case 0:return{...e,toasts:[a.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case 2:let{toast:t}=a;return I(e,{type:e.toasts.find(e=>e.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=a;return{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===a.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)};case 5:return{...e,pausedAt:a.time};case 6:let r=a.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+r}))}}},P=[],F={toasts:[],pausedAt:void 0},R=e=>{F=I(F,e),P.forEach(e=>{e(F)})},S={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},E=(e={})=>{let[a,t]=(0,i.useState)(F),s=(0,i.useRef)(F);(0,i.useEffect)(()=>(s.current!==F&&t(F),P.push(t),()=>{let e=P.indexOf(t);e>-1&&P.splice(e,1)}),[]);let r=a.toasts.map(a=>{var t,s,r;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||(null==(t=e[a.type])?void 0:t.removeDelay)||(null==e?void 0:e.removeDelay),duration:a.duration||(null==(s=e[a.type])?void 0:s.duration)||(null==e?void 0:e.duration)||S[a.type],style:{...e.style,...null==(r=e[a.type])?void 0:r.style,...a.style}}});return{...a,toasts:r}},L=(e,a="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(null==t?void 0:t.id)||M()}),V=e=>(a,t)=>{let s=L(a,e,t);return R({type:2,toast:s}),s.id},k=(e,a)=>V("blank")(e,a);k.error=V("error"),k.success=V("success"),k.loading=V("loading"),k.custom=V("custom"),k.dismiss=e=>{R({type:3,toastId:e})},k.remove=e=>R({type:4,toastId:e}),k.promise=(e,a,t)=>{let s=k.loading(a.loading,{...t,...null==t?void 0:t.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=a.success?w(a.success,e):void 0;return r?k.success(r,{id:s,...t,...null==t?void 0:t.success}):k.dismiss(s),e}).catch(e=>{let r=a.error?w(a.error,e):void 0;r?k.error(r,{id:s,...t,...null==t?void 0:t.error}):k.dismiss(s)}),e};var O=(e,a)=>{R({type:1,toast:{id:e,height:a}})},A=()=>{R({type:5,time:Date.now()})},z=new Map,T=1e3,$=(e,a=T)=>{if(z.has(e))return;let t=setTimeout(()=>{z.delete(e),R({type:4,toastId:e})},a);z.set(e,t)},Z=e=>{let{toasts:a,pausedAt:t}=E(e);(0,i.useEffect)(()=>{if(t)return;let e=Date.now(),s=a.map(a=>{if(a.duration===1/0)return;let t=(a.duration||0)+a.pauseDuration-(e-a.createdAt);if(t<0){a.visible&&k.dismiss(a.id);return}return setTimeout(()=>k.dismiss(a.id),t)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[a,t]);let s=(0,i.useCallback)(()=>{t&&R({type:6,time:Date.now()})},[t]),r=(0,i.useCallback)((e,t)=>{let{reverseOrder:s=!1,gutter:r=8,defaultPosition:l}=t||{},i=a.filter(a=>(a.position||l)===(e.position||l)&&a.height),n=i.findIndex(a=>a.id===e.id),o=i.filter((e,a)=>a<n&&e.visible).length;return i.filter(e=>e.visible).slice(...s?[o+1]:[0,o]).reduce((e,a)=>e+(a.height||0)+r,0)},[a]);return(0,i.useEffect)(()=>{a.forEach(e=>{if(e.dismissed)$(e.id,e.removeDelay);else{let a=z.get(e.id);a&&(clearTimeout(a),z.delete(e.id))}})},[a]),{toasts:a,handlers:{updateHeight:O,startPause:A,endPause:s,calculateOffset:r}}},_=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,q=y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B=y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U=N("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${q} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,G=y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H=N("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${G} 1s linear infinite;
`,Y=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,J=y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,W=N("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Y} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${J} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q=N("div")`
  position: absolute;
`,X=N("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,K=y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ee=N("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${K} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ea=({toast:e})=>{let{icon:a,type:t,iconTheme:s}=e;return void 0!==a?"string"==typeof a?i.createElement(ee,null,a):a:"blank"===t?null:i.createElement(X,null,i.createElement(H,{...s}),"loading"!==t&&i.createElement(Q,null,"error"===t?i.createElement(U,{...s}):i.createElement(W,{...s})))},et=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,es=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,er=N("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,el=N("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ei=(e,a)=>{let t=e.includes("top")?1:-1,[s,r]=D()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[et(t),es(t)];return{animation:a?`${y(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${y(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},en=i.memo(({toast:e,position:a,style:t,children:s})=>{let r=e.height?ei(e.position||a||"top-center",e.visible):{opacity:0},l=i.createElement(ea,{toast:e}),n=i.createElement(el,{...e.ariaProps},w(e.message,e));return i.createElement(er,{className:e.className,style:{...r,...t,...e.style}},"function"==typeof s?s({icon:l,message:n}):i.createElement(i.Fragment,null,l,n))});l=i.createElement,u.p=void 0,j=l,f=void 0,b=void 0;var eo=({id:e,className:a,style:t,onHeightUpdate:s,children:r})=>{let l=i.useCallback(a=>{if(a){let t=()=>{s(e,a.getBoundingClientRect().height)};t(),new MutationObserver(t).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return i.createElement("div",{ref:l,className:a,style:t},r)},ed=(e,a)=>{let t=e.includes("top"),s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:D()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(t?1:-1)}px)`,...t?{top:0}:{bottom:0},...s}},ec=v`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,em=({reverseOrder:e,position:a="top-center",toastOptions:t,gutter:s,children:r,containerStyle:l,containerClassName:n})=>{let{toasts:o,handlers:d}=Z(t);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...l},className:n,onMouseEnter:d.startPause,onMouseLeave:d.endPause},o.map(t=>{let l=t.position||a,n=ed(l,d.calculateOffset(t,{reverseOrder:e,gutter:s,defaultPosition:a}));return i.createElement(eo,{id:t.id,key:t.id,onHeightUpdate:d.updateHeight,className:t.visible?ec:"",style:n},"custom"===t.type?w(t.message,t):r?r(t):i.createElement(en,{toast:t,position:l}))}))},eu=k}},function(e){e.O(0,[990,749,732,816,971,938,744],function(){return e(e.s=72294)}),_N_E=e.O()}]);